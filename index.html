<html>
    <head>
      <link rel="stylesheet" href="https://pyscript.net/latest/pyscript.css" />
      <script defer src="https://pyscript.net/latest/pyscript.js"></script>
    </head>

  <body>
    <py-script>
      # Run this using "asyncio"
      from bleak import BleakScanner
      import asyncio
      async def main():
          await micropip.install(["bleak","asyncio"])  
      
      
      devices = await BleakScanner.discover(return_adv=True)
      # for d, a in devices.values():
      #     print()
      #     print(d)                    # beacon names are POI
      #     print("-" * len(str(d)))
      #     print(a)
      print(devices.keys())
      await loop.run_until_complete(main())
      </py-script>
  </body>
</html>